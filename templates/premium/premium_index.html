{% extends "base.html" %}

{% block title %}Premium - ReturnaDisc{% endblock %}

{% block extra_css %}
<style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    .premium-hero { min-height: 100vh; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; padding: 40px 20px; }
    .premium-bg { position: absolute; top: 0; left: 0; width: 100%; height: 120%; background-size: cover; background-position: center; animation: panImage 20s ease-in-out infinite alternate; }
    @keyframes panImage { 0% { transform: scale(1.1) translate(0, 0); } 100% { transform: scale(1.1) translate(1%, -2%); } }
    .premium-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.7)); z-index: 1; }
    .premium-content { position: relative; z-index: 2; text-align: center; max-width: 800px; padding: 0 20px; }
    .premium-icon { width: 100px; height: 100px; background: linear-gradient(145deg, #fbbf24 0%, #f59e0b 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 25px; font-size: 3rem; box-shadow: 0 15px 40px rgba(251, 191, 36, 0.4); }
    .premium-content h1 { color: white; font-size: 2.8rem; font-weight: 800; margin-bottom: 10px; }
    .premium-content h1 span { color: #fbbf24; }
    .premium-tagline { color: rgba(255, 255, 255, 0.9); font-size: 1.2rem; margin-bottom: 30px; }
    .launch-banner { background: linear-gradient(145deg, #fbbf24 0%, #f59e0b 100%); color: #78350f; padding: 15px 25px; border-radius: 50px; font-weight: 700; font-size: 1rem; margin-bottom: 20px; display: inline-block; animation: pulse-banner 2s infinite; }
    @keyframes pulse-banner { 0%, 100% { box-shadow: 0 4px 20px rgba(251, 191, 36, 0.4); } 50% { box-shadow: 0 4px 30px rgba(251, 191, 36, 0.7); } }
    .pricing-card { background: rgba(245, 245, 220, 0.98); border-radius: 24px; padding: 40px; text-align: center; box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3); margin-bottom: 30px; }
    .card-badge { display: inline-block; background: linear-gradient(145deg, #166534 0%, #22c55e 100%); color: white; padding: 8px 20px; border-radius: 30px; font-size: 0.85rem; font-weight: 700; text-transform: uppercase; margin-bottom: 20px; }
    .card-badge.free { background: linear-gradient(145deg, #fbbf24 0%, #f59e0b 100%); color: #78350f; animation: pulse-badge 2s infinite; }
    .card-badge.active { background: linear-gradient(145deg, #10b981 0%, #059669 100%); }
    .pricing-card h2 { color: #1f2937; font-size: 1.8rem; margin-bottom: 5px; }
    .price { font-size: 4rem; font-weight: 800; color: #166534; margin: 20px 0; }
    .price .free-text { color: #f59e0b; font-size: 3.5rem; }
    .price-original { font-size: 1.5rem; color: #9ca3af; text-decoration: line-through; margin-bottom: -10px; }
    .features { list-style: none; padding: 0; margin: 30px 0; text-align: left; max-width: 350px; margin-left: auto; margin-right: auto; }
    .features li { padding: 14px 0 14px 35px; position: relative; color: #374151; border-bottom: 1px solid rgba(22, 101, 52, 0.1); }
    .features li::before { content: "‚úì"; position: absolute; left: 0; width: 24px; height: 24px; background: linear-gradient(145deg, #166534 0%, #22c55e 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem; }
    .btn-premium { display: inline-flex; align-items: center; gap: 10px; background: linear-gradient(145deg, #166534 0%, #14532d 100%); color: white; padding: 18px 45px; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.1rem; border: none; cursor: pointer; box-shadow: 0 4px 15px rgba(22, 101, 52, 0.4); }
    .btn-premium.free { background: linear-gradient(145deg, #fbbf24 0%, #f59e0b 100%); color: #78350f; box-shadow: 0 4px 15px rgba(251, 191, 36, 0.4); animation: pulse-btn 2s infinite; }
    .btn-secondary { display: inline-flex; align-items: center; gap: 10px; background: transparent; color: white; padding: 14px 30px; border-radius: 50px; text-decoration: none; font-weight: 600; border: 2px solid white; }
    .already-premium { background: rgba(245, 245, 220, 0.98); border-radius: 24px; padding: 40px; text-align: center; box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3); margin-bottom: 30px; }
    .already-premium h2 { color: #166534; font-size: 1.8rem; margin-bottom: 10px; }
    .valid-until { background: linear-gradient(145deg, #d1fae5 0%, #a7f3d0 100%); color: #065f46; padding: 20px; border-radius: 16px; margin: 20px 0; font-weight: 600; }
    .secure-text { margin-top: 15px; color: #6b7280; font-size: 0.9rem; }
</style>
{% endblock %}

{% block content %}
<section class="premium-hero">
    <div class="premium-bg" style="background-image: url('{{ url_for('static', filename='images/hero-bg.png') }}');"></div>
    <div class="premium-overlay"></div>
    
    <div class="premium-content">
        <div class="premium-icon">üíé</div>
        <h1>Returna<span>Disc</span> Premium</h1>
        <p class="premium-tagline">F√• ut mer av din discgolf-upplevelse</p>

        {% if premium_status and premium_status.has_premium %}
        <div class="already-premium">
            <span class="card-badge active">‚úì Aktivt</span>
            <h2>Du har redan Premium!</h2>
            {% if premium_status.premium_until %}
            <div class="valid-until">
                <strong>Premium giltigt till</strong>
                {{ premium_status.premium_until[:10] }}
            </div>
            {% endif %}
            <a href="{{ url_for('premium.manage') }}" class="btn-premium" style="font-size: 1rem; padding: 14px 35px;">Hantera Premium</a>
        </div>
        {% else %}
            {% if is_launch %}
            <div class="launch-banner">üöÄ LANSERINGSKAMPANJ: Gratis Premium till 1 mars 2027!</div>
            {% endif %}

            <div class="pricing-card">
                <span class="card-badge {% if is_launch %}free{% endif %}">{% if is_launch %}Gratis Nu!{% else %}Popul√§rast{% endif %}</span>
                <h2>1 √Ör Premium</h2>
                <div class="price">
                    {% if is_launch %}
                    <div class="price-original">39 kr/√•r</div>
                    <span class="free-text">GRATIS</span>
                    {% else %}
                    39 kr/√•r
                    {% endif %}
                </div>
                <ul class="features">
                    <li>Full tillg√•ng till Community kartan</li>
                    <li>Prioriterad support</li>
                    <li>Early access till nya funktioner</li>
                </ul>
                <form action="{{ url_for('premium.checkout') }}" method="POST" style="display: inline;">
                    <button type="submit" class="btn-premium {% if is_launch %}free{% endif %}">
                        {% if is_launch %}üéâ Aktivera Gratis Premium{% else %}üîí K√∂p Premium{% endif %}
                    </button>
                </form>
                <p class="secure-text">üîí S√§ker betalning via Stripe</p>
            </div>
        {% endif %}

        <a href="{{ url_for('disc.dashboard') }}" class="btn-secondary">‚Üê Tillbaka till Dashboard</a>
    </div>
</section>
{% endblock %}