{% extends "base.html" %}

{% block title %}Mina discar - ReturnaDisc{% endblock %}

{% block content %}
<div class="container">
    <h1>Mina discar</h1>
    
    {% if discs %}
        <div class="disc-list">
            {% for disc in discs %}
            <div class="disc-item">
                <div class="disc-info">
                    <h3>{{ disc[1] if disc[1] else "Namnl√∂s disc" }}</h3>
                    <p class="disc-id">ID: {{ disc[0] }}</p>
                    <p class="status {% if disc[2] %}active{% else %}inactive{% endif %}">
                        {% if disc[2] %}üü¢ Aktiv{% else %}‚ö™ V√§ntar p√• aktivering{% endif %}
                    </p>
                    {% if disc[4] %}
                        <p class="last-seen">Senast hittad: {{ disc[4][:10] }}</p>
                    {% endif %}
                </div>
                <a href="{{ url_for('disc.view_qr', disc_id=disc[0]) }}" class="btn-secondary btn-small">
                    Visa QR
                </a>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <p>Du har inga registrerade discar √§nnu.</p>
            <a href="{{ url_for('disc.create_qr') }}" class="btn-primary">Skapa QR-koder</a>
        </div>
    {% endif %}
    
    <div style="margin-top: 24px;">
        <a href="{{ url_for('disc.dashboard') }}" class="btn-secondary">‚Üê Tillbaka till dashboard</a>
    </div>
</div>

<style>
.disc-list { margin-top: 24px; }
.disc-item {
    background: white;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 16px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.disc-info h3 { margin-bottom: 4px; }
.disc-id { font-size: 0.85rem; color: var(--text-light); font-family: monospace; }
.status { font-size: 0.9rem; margin-top: 4px; }
.status.active { color: var(--success); }
.last-seen { font-size: 0.85rem; color: var(--text-light); margin-top: 4px; }
</style>
{% endblock %}